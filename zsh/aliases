#!/usr/bin/env zsh

#------------------------------------------------ Terminal / Dotfiles ------------------------------------------------#

# Shell 
alias rr='exec zsh --login'
alias rrs="source ${HOME}/.zshrc"
alias rrp="exec env PROFILE_ZSHRC=1 zsh --login"
alias rrdm="exec env DOT_DISABLE_MSG=1 zsh --login"
alias checkitalics="echo -e '\e[3mitalic\e[23m'"

# Controls
alias x='exit'
alias c='clear'
alias e='echo'
alias rd='rmdir'
alias edit="vim $1"

#--------------------------------------------------- App overrides ---------------------------------------------------#

if (( ${+LS_OVERRIDE} )); then
    alias ls=${LS_OVERRIDE}
fi

if (( ${+CAT_OVERRIDE} )); then 
    alias cat=${CAT_OVERRIDE}
fi

if (( ${+EDITOR} )); then 
    alias vim=${EDITOR}
fi 

if (( ${+LAZYGIT_CONFIG} )); then 
    alias lazygit="lazygit -ucf ${LAZYGIT_CONFIG}"
fi 

if (( ${+commands[idea]} )); then 
    alias idea="idea ."
fi

if (( ${+commands[phpstorm]} )); then
    alias pstorm="phpstorm ."
fi

if (( ${+commands[webstorm]} )); then 
    alias wstorm="webstorm ."
fi

if (( ${+commands[egrep]} )); then
    alias egrep='egrep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox}'
fi 

if (( ${+commands[fgrep]} )); then 
    alias fgrep='fgrep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox}'
fi 

#--------------------------------------------------- App shortcuts ---------------------------------------------------#

alias dfup="sh ${DOTFILES}/rcup"
alias brewup='brew update && brew outdated; brew upgrade && brew cleanup; brew doctor'

alias scrsvr='open -a ScreenSaverEngine'
alias tm-auto='sudo tmutil startbackup --auto; tmutil status'
alias kraken='$(open gitkraken://repo/$PWD)' # Note: Don't change to double quotes, as it auto-triggers.
alias fpc="fzf --preview 'cat --color=always --style=numbers --line-range=:500 {}'"
alias luamake="${HOME}/tools/lua-language-server/3rd/luamake/luamake"

alias valetrm="rm $HOME/.config/valet/valet.sock"
alias valetr="valetrm && valet restart"

alias php74='valet use php@7.4 && composer global update'
alias php8='valet use php@8.0 && composer global update'
alias php81='valet use php && composer global update'

alias ll='ls -Ahl --color'
alias lsa='ls -lah'
alias lsc='ls | cat'
alias llc='ll | cat'
alias lll='ll | lolcat'
alias lllc='ll | lolcrab'

#---------------------------------------------------- Navigation -----------------------------------------------------#  

alias ".."='cd ../'
alias "..."='cd ../..'
alias "...."='cd ../../..'
alias "....."='cd ../../../..'
alias "......"='cd ../../../../..'

alias root='cd $(git rev-parse --show-toplevel)'
alias config="cd ${XDG_CONFIG}"
alias dev="cd ${HOME}/.development/Projects"
alias df="cd ${DOTFILES}"

#----------------------------------------------------- Utilities -----------------------------------------------------#  

alias c:ssh="cat ${HOME}/.ssh/id_rsa.pub"
alias c:readme='cat $(root)/README.md'

alias l:path="echo \"$PATH\" | tr ':' '\n'"
alias lc:path='l:path | cat'
alias lf:path='l:path | fzf'
alias l:brew='brew list'
alias lc:brew='l:brew | cat'
alias lf:brew='brew list | fzf'

alias cp:dir="e ${PWD} | pbcopy"
alias cp:shrug='e "¯\_(ツ)_/¯" | pbcopy'
alias cp:sbcrepo='e "{\"type\": \"composer\", \"url\": \"https://composer.sbdev.nl/\"}" | pp_json | pbcopy'
alias cp:broodje='e "38. Witte Ital. Bol Gerookte Kip, avocado mayo met extra avocado + blik cola - €9,00" | pbcopy'
alias cp:ssh="sssh | pbcopy"

alias clone:sb-starter="git clone git@bitbucket.org:socialbrothers/wordpress-starter-theme.git"
alias clone:wp="git clone git@github.com:wordpress/wordpress"

#-------------------------------------------------- Suffix Aliases ---------------------------------------------------#

alias -s php=pstorm
alias -s {.zshrc,zsh,sh,json,yaml,.env,cs,ts,html}=nvim

